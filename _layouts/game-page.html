---
# Front Matter
layout: default
noHeaderMargin: true
---

<!-- Stylesheet dependencies -->
<link rel="stylesheet" href="/styles/game-page.css">

<!-- Top image -->
<div id="game-top-container">
    {% if page.tags and page.tags.size > 0 %}
    <p id="game-tags">
        {% for tag in page.tags %}
        {% if forloop.first %}
        {{tag}}
        {% else %}
        <br>{{tag}}
        {% endif %}
        {% endfor %}
    </p>
    {% endif %}

    {% if page.awards and page.awards.size > 0 %}
    <p id="game-awards">
        {% for award in page.awards %}
        {% if forloop.first %}
        {{award}}
        {% else %}
        <br>{{award}}
        {% endif %}
        {% endfor %}
    </p>
    {% endif %}
    <img id="game-top-img" {% if page.top-img %} src="{{ site.stage_path }}{{page.stage_game_path}}images/{{ page.top-img }}" style="object-fit:{{page.top-img-fit}}" {% else %} src="/images/official_no_back.png" {% endif %}>
</div>

<!-- Page content -->
<div id="game-main-content">
    <!-- Title and year/semester -->
    <h1 class="inline">{{ page.title }}</h1><h3 class="inline"> - {{ page.semester }} {{ page.year }}</h3>

    <div class="row no-margin">
        <div class="col-4">
            <!-- About -->
            <h2>About</h2>
            <p>{{ page.description }}</p>
        </div>
        <div class="col-4">
            <!-- Builds -->
            <h2>Play</h2>
            <p>
                {% for build in page.builds %}
                For {{ build[0] }} | <a href="{{ site.stage_path }}{{ page.stage_game_path }}{{ build[1] }}">Download</a><br>
                {% endfor %}
            </p>
            {% if page.build_instructions %}
            <h3>Instructions</h3>
            <p>{{ page.build_instructions }}</p>
            {% endif %}
        </div>
        <div class="col-4">
            <!-- Project Members -->
            <h2>Project Members</h2>
            <p>
                {% for member in page.project_members %}
                    {% for site_member in site.members %}
                        {% if site_member.title == member[0] %}
                            <a href="{{site_member.url}}">{{ member[0] }}</a> - <i>{{ member[1] }}</i><br>
                            {% assign found = true %}
                            {% break %}
                        {% endif %}
                    {% endfor %}
                    {% if found != true %}
                        {{ member[0] }} - <i>{{ member[1] }}</i><br>
                    {% endif %}
                    {% assign found = false %}
                {% endfor %}
            </p>
        </div>
    </div>


    <!-- Screenshots -->
    {% if page.screenshots and page.screenshots[0] %}
    <div class="row no-margin">
        <div class="col">
            <h2>Screenshots</h2>
        </div>
    </div>
    <div class="screenshot-row">
        {% for img in page.screenshots %}
        <div class="screenshot-column">
            <img class="screenshot-thumbnail hover-shadow" src="{{site.stage_path}}{{page.stage_game_path}}images/{{img}}" onclick="openModal();currentSlide({{forloop.index}})">
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Screenshot gallery modal -->
    <div id="myModal" class="modal">
        <span class="close cursor" onclick="closeModal()">&times;</span>
        <div class="modal-content">
            {% for img in page.screenshots %}
            <div class="mySlides">
                <div class="numbertext">{{forloop.index}} / {{forloop.length}}</div>
                <img class="screenshot-full" src="{{site.stage_path}}{{page.stage_game_path}}images/{{img}}">
            </div>
            {% endfor %}

            <!-- Next/previous controls -->
            <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
            <a class="next" onclick="plusSlides(1)">&#10095;</a>

            <!-- Thumbnail image controls -->
            <div class="img-control-row">
                {% for img in page.screenshots %}
                <div class="screenshot-column">
                    <img class="screenshot-img-control" src="{{site.stage_path}}{{page.stage_game_path}}images/{{img}}" onclick="currentSlide({{forloop.index}})">
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- Original Soundtrack Soundcloud embed -->
    {% if page.OST-embed %}
    <div class="row no-margin">
        <div class="col-5">
            <h2>Original Soundtrack</h2>
            <iframe class="soundcloud-embed" scrolling="no" frameborder="no" allow="autoplay" src="{{ page.OST-embed }}"></iframe>
        </div>
    </div>
    {% endif %}

    <!-- Custom content (this could be moved up?) -->
    {{ content }}
</div>

<!-- Script dependencies -->
<script src="/scripts/screenshot_gallery.js"></script>
