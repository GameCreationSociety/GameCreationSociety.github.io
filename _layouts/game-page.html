---
# Front Matter
layout: default
noHeaderMargin: true
---

<!-- Stylesheet dependencies -->
<link rel="stylesheet" href="/styles/game-page.css">
<link rel="stylesheet" href="/styles/smartphoto.min.css">
<script src="/scripts/smartphoto.min.js"></script>
<script>
window.addEventListener('DOMContentLoaded',function(){
    var sp = new SmartPhoto(".js-smartPhoto");
    sp.on('open',function(){
        var th = document.getElementById('page-header');
        th.style.visibility = "hidden";
    });
    sp.on('close',function(){
        var th = document.getElementById('page-header');
        th.style.visibility = "visible";
    });
});
</script>

<!-- Top image -->
<div id="game-top-container">
    {% if page.tags and page.tags.size > 0 %}
    <div id="game-tags-container">
        <p id="game-tags">
            {% for tag in page.tags %}
                {% if forloop.first %}
                    {{tag | replace: "_", " "}}
                {% else %}
                    <br>{{tag | replace: "_", " "}}
                {% endif %}
            {% endfor %}
        </p>
    </div>
    {% endif %}

    {% if page.awards and page.awards.size > 0 %}
    <div id="game-awards-container">
        <p id="game-awards">
            {% for award in page.awards %}
                {% if forloop.first %}
                    {{award}}
                {% else %}
                    <br>{{award}}
                {% endif %}
            {% endfor %}
        </p>
    </div>
    {% endif %}

    {% if page.top-img %}
        {% assign topImgSrc = site.stage_path | append: page.stage_game_path | append: "images/" | append: page.top-img %}
    {% elsif page.screenshots.size > 0 %}
        {% assign topImgSrc = site.stage_path | append: page.stage_game_path | append: "images/" | append: page.screenshots[0] %}
    {% else %}
        {% assign topImgSrc = "/images/official_no_back.png" %}
    {% endif %}
    <img id="game-top-img" src="{{ topImgSrc }}" style="object-fit:{{page.top-img-fit}}">
</div>

<!-- Page content -->
<div id="game-main-content">
    <!-- Title and year/semester -->
    <div class="row no-margin">
        <div class="col">
            <h1 class="inline">{{ page.title }}</h1><h3 class="inline"> - {{ page.semester }} {{ page.year }}</h3>
        </div>
    </div>

    <div class="row no-margin">
        <div class="game-content-section col-md-4 col-sm-6 col-12">
            <!-- About -->
            <h2>About</h2>
            <p>{{ page.description }}</p>
        </div>
        <div class="game-content-section col-md-4 col-sm-6 col-12">
            <!-- Builds -->
            <h2>Play</h2>
            <p>
                {% for build in page.builds %}
                    {% if build[0] == "WebGL" %}
                    <a href="{{ site.stage_path }}{{ page.stage_game_path }}{{ build[1] }}">Play Online</a><br>
                    {% elsif build[0] == "Itch.io" %}
                    <a href="{{ build[1] }}">Play on Itch.io</a><br>
                    {% else %}
                    For {{ build[0] }} | <a href="{{ site.stage_path }}{{ page.stage_game_path }}{{ build[1] }}">Download</a><br>
                    {% endif %}
                {% endfor %}
            </p>
            {% if page.build_instructions %}
            <h3>Instructions</h3>
            <p>{{ page.build_instructions }}</p>
            {% endif %}
        </div>
        <div class="game-content-section col-md-4 col-sm-6 col-12">
            <!-- Project Members -->
            <h2>Project Members</h2>
            <p>
                {% for member in page.project_members %}
                    {% for site_member in site.members %}
                        {% if site_member.title == member[0] %}
                            <a href="{{site_member.url}}">{{ member[0] }}</a> - <i>{{ member[1] }}</i><br>
                            {% assign found = true %}
                            {% break %}
                        {% endif %}
                    {% endfor %}
                    {% if found != true %}
                        {% if member[1] == "first" %}
                            <h3>{{ member[0] }}</h3>
                        {% elsif member[1] == "" %}
                            <br/><h3>{{ member[0] }}</h3>
                        {% else %}
                            {{ member[0] }} - <i>{{ member[1] }}</i><br>
                        {% endif %}
                    {% endif %}
                    {% assign found = false %}
                {% endfor %}
            </p>
        </div>
    </div>

    <!-- Screenshots -->
    {% if page.screenshots and page.screenshots[0] %}
    <div class="row no-margin">
        <div class="col">
            <h2>Screenshots</h2>
        </div>
    </div>
    <div class="screenshot-row">
        {% for img in page.screenshots %}
        <div class="screenshot-column">
            <a href="{{site.stage_path}}{{page.stage_game_path}}images/{{img}}" class="js-smartPhoto" data-caption="{{page.title}}" data-id="{{forloop.index}}" data-group="game">
                <img class="screenshot-thumbnail hover-shadow" src="{{site.stage_path}}{{page.stage_game_path}}images/{{img}}" />
            </a>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Original Soundtrack Soundcloud embed -->
    {% if page.OST-embed %}
    <div class="row no-margin">
        <div class="col-xl-5 col-lg-6 col-md-7 col-sm-9 col-12">
            <h2>Original Soundtrack</h2>
            <iframe class="soundcloud-embed" scrolling="no" frameborder="no" allow="autoplay" src="{{ page.OST-embed }}"></iframe>
        </div>
    </div>
    {% endif %}

    <!-- Gameplay video -->
    {% if page.gameplay-video %}
    <div class="row no-margin">
        <div class="col-xl-5 col-lg-6 col-md-7 col-sm-9 col-12">
            <h2>Gameplay Video</h2>
            <iframe width="560" height="315" src="{{ page.gameplay-video }}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>
    {% endif %}

    <!-- Custom content (this could be moved up?) -->
    {{ content }}
</div>
